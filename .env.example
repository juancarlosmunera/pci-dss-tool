# ─── Database ────────────────────────────────────────────────────────────────
DATABASE_URL="postgresql://pci:pci_dev@localhost:5432/pci_platform?schema=public"

# ─── Azure Entra ID (App Registration) ───────────────────────────────────────
# Create an App Registration in your Azure tenant:
#   Authentication → Redirect URI: https://<your-url>/api/auth/callback/azure-ad
#   API permissions: User.Read (no GroupMember.Read.All needed — roles come from App Roles)
#   Certificates & secrets → create a client secret
#   App roles → define PCI.Admin, PCI.ControlOwner, PCI.Operator, PCI.Viewer
#   Enterprise Application → Users and groups → assign Entra groups to App Roles
#   Enterprise Application → Provisioning → set up SCIM with NEXTAUTH_URL + /api/scim/v2
AZURE_AD_CLIENT_ID="<your-app-registration-client-id>"
AZURE_AD_CLIENT_SECRET="<your-app-registration-client-secret>"
AZURE_AD_TENANT_ID="<your-azure-tenant-id>"

# ─── SCIM Provisioning (automated user lifecycle from Azure AD) ───────────────
# Generate: openssl rand -base64 32
# Paste this value into Azure AD → Enterprise Application → Provisioning → Secret Token
SCIM_PROVISIONING_SECRET="<generate-a-random-secret>"

# ─── NextAuth ────────────────────────────────────────────────────────────────
# Generate: openssl rand -base64 32
NEXTAUTH_SECRET="<generate-a-random-32-char-secret>"
NEXTAUTH_URL="http://localhost:3000"

# ─── Local Admin Bootstrap ────────────────────────────────────────────────────
# Used by `npx prisma db seed` to create the first local admin account.
# Allows admin login before Azure AD is configured.
# Remove or leave blank after initial setup. Change the password after first login.
INITIAL_ADMIN_EMAIL="admin@example.com"
INITIAL_ADMIN_PASSWORD="<set-a-strong-password>"

# ─── Azure Blob Storage (for evidence file uploads) ──────────────────────────
# AZURE_STORAGE_CONNECTION_STRING="DefaultEndpointsProtocol=https;AccountName=...;AccountKey=..."
# AZURE_STORAGE_CONTAINER="evidence"
